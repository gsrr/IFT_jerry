a:2:{s:7:"current";a:8:{s:4:"date";a:2:{s:7:"created";i:1501144262;s:8:"modified";i:1510655669;}s:11:"last_change";a:8:{s:4:"date";i:1510655669;s:2:"ip";s:12:"172.27.12.71";s:4:"type";s:1:"E";s:2:"id";s:13:"python:memory";s:4:"user";s:0:"";s:3:"sum";s:11:"[Analysis] ";s:5:"extra";s:0:"";s:10:"sizechange";i:-180;}s:4:"user";s:0:"";s:7:"creator";s:0:"";s:5:"title";s:9:"Reference";s:11:"description";a:2:{s:15:"tableofcontents";a:2:{i:0;a:4:{s:3:"hid";s:9:"reference";s:5:"title";s:9:"Reference";s:4:"type";s:2:"ul";s:5:"level";i:1;}i:1;a:4:{s:3:"hid";s:8:"analysis";s:5:"title";s:8:"Analysis";s:4:"type";s:2:"ul";s:5:"level";i:1;}}s:8:"abstract";s:503:"Reference


https://docs.python.org/2/c-api/index.html

[Tools]
1. memory_profile
2. guppy


Analysis


import copy
import time
import os
from guppy import hpy



lens = 100000

class Test:
        def __init__(self):
                self.a = range(lens)

def method_2(cnt):
        a1 = {}
        a1['1'] = Test()
        a1['2'] = Test()
        a1['3'] = Test()
        a = [a1] # 21.1m
        data2 = copy.deepcopy(a1)
        a.append(data2) # 57.7m
        data3 = copy.deepcopy(a1)
        aâ€¦";}s:8:"internal";a:2:{s:5:"cache";b:1;s:3:"toc";b:1;}s:8:"relation";a:1:{s:10:"firstimage";s:0:"";}}s:10:"persistent";a:4:{s:4:"date";a:2:{s:7:"created";i:1501144262;s:8:"modified";i:1510655669;}s:11:"last_change";a:8:{s:4:"date";i:1510655669;s:2:"ip";s:12:"172.27.12.71";s:4:"type";s:1:"E";s:2:"id";s:13:"python:memory";s:4:"user";s:0:"";s:3:"sum";s:11:"[Analysis] ";s:5:"extra";s:0:"";s:10:"sizechange";i:-180;}s:4:"user";s:0:"";s:7:"creator";s:0:"";}}